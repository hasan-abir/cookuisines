<h1 class="title is-1 pb-4">Recipe Maker</h1>

<form [formGroup]="makerForm" (ngSubmit)="onSubmit()">
  <div class="columns">
    <div class="field column is-half">
      <label for="title" class="label title is-4"
        >Title<span class="has-text-danger">*</span></label
      >
      <div class="control mb-4">
        <input
          id="title"
          class="input"
          type="text"
          formControlName="title"
          placeholder="Text..."
          value=""
        />
        <p *ngIf="titleErrs().required" class="help">
          You might not bother with it, but a proper title is a must
        </p>
      </div>
      <app-instructionsformarray
        [makerForm]="makerForm"
        [instructions]="instructions"
      />
      <div class="control mt-4">
        <label for="image" class="label title is-4">Image</label>
        <div class="file is-outlined has-name">
          <label class="file-label">
            <input
              id="image"
              class="file-input"
              type="file"
              (change)="onFileChange($event)"
            />
            <span class="file-cta">
              <span class="file-label"> Upload an image... </span>
            </span>
            <span
              *ngIf="image.value"
              class="file-name"
              [title]="image.value.name"
            >
              {{ image.value.name }}
            </span>
          </label>
        </div>
        <p *ngIf="imageErrs().invalidFileType" class="help">
          File must of be of image type
        </p>
        <p *ngIf="imageErrs().invalidFileSize" class="help">
          File size must under 2 mb
        </p>
      </div>
    </div>
    <div class="field column is-half">
      <app-ingredientsformarray
        [makerForm]="makerForm"
        [ingredients]="ingredients"
      />
      <label class="label mt-4 title is-4">Time</label>
      <div class="columns">
        <div class="column is-half">
          <label class="label"
            >For prepation<span class="has-text-danger">*</span></label
          >

          <app-durationpicker [form]="makerForm" [fgName]="'preparationTime'" />
        </div>
        <div class="column is-half">
          <label class="label"
            >For cooking<span class="has-text-danger">*</span></label
          >
          <app-durationpicker [form]="makerForm" [fgName]="'cookingTime'" />
        </div>
      </div>
      <div class="control mt-4">
        <label for="difficulty" class="label title is-4">Difficulty</label>
        <div class="select is-primary">
          <select
            id="difficulty"
            formControlName="difficulty"
            class="is-capitalized"
          >
            <option *ngFor="let option of difficulties" [value]="option">
              {{ option }}
            </option>
          </select>
        </div>
      </div>
    </div>
  </div>
  <div class="columns">
    <div class="column is-half">
      <button
        class="button is-primary is-uppercase has-text-weight-bold is-fullwidth"
        type="submit"
      >
        Make
      </button>
    </div>
  </div>
</form>
